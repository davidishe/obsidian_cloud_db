# üìÑ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: Instagram Reels Analyzer Agent

–≠—Ç–æ—Ç –∞–≥–µ–Ω—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ Instagram Reels, —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏, –≤—ã—è–≤–ª–µ–Ω–∏—è —É—Å–ø–µ—à–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–æ–ª–∏–∫–æ–≤.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

1. **Python 3.10+**
2. **FFmpeg** (–¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ):
    * macOS: `brew install ffmpeg`
    * Windows: `winget install ffmpeg`
3. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python**:
    –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

    ```bash
    pip install apify-client gspread google-auth google-auth-oauthlib python-dotenv requests openai-whisper
    ```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª—é—á–µ–π –¥–æ—Å—Ç—É–ø–∞

–î–ª—è —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç—É –Ω—É–∂–Ω—ã –∫–ª—é—á–∏ API. –û–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –¥–≤—É—Ö —Ñ–∞–π–ª–∞—Ö –≤ –ø–∞–ø–∫–µ `Agents/`.

#### –§–∞–π–ª `Credentials.env`

–°–æ–∑–¥–∞–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ç—É–¥–∞:

```env
APIFY_API_TOKEN=your_apify_token_here
OPENAI_API_KEY=your_openai_key_here
```

* **Apify Token**: [–ü–æ–ª—É—á–∏—Ç—å –∑–¥–µ—Å—å](https://console.apify.com/account/integrations)
* **OpenAI Key**: [–ü–æ–ª—É—á–∏—Ç—å –∑–¥–µ—Å—å](https://platform.openai.com/api-keys)

#### –§–∞–π–ª `google_credentials.json`

–≠—Ç–æ—Ç —Ñ–∞–π–ª –Ω—É–∂–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Google –¢–∞–±–ª–∏—Ü–∞–º.

1. –ó–∞–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/).
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç.
3. –í–∫–ª—é—á–∏—Ç–µ **Google Sheets API** –∏ **Google Drive API**.
4. –í —Ä–∞–∑–¥–µ–ª–µ **Credentials** —Å–æ–∑–¥–∞–π—Ç–µ **Service Account** (—Ä–æ–ª—å: Editor).
5. –°–æ–∑–¥–∞–π—Ç–µ JSON-–∫–ª—é—á –¥–ª—è —ç—Ç–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ (–≤–∫–ª–∞–¥–∫–∞ Keys -> Add Key -> Create new key -> JSON).
6. –°–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –≤ `google_credentials.json` –∏ –ø–æ–ª–æ–∂–∏—Ç–µ –≤ –ø–∞–ø–∫—É `Agents/Agents/`.

### 3. –ó–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–∞

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `reels_analyzer.py`.

**–û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞:**

```bash
python Agents/Scripts/reels_analyzer.py --usernames "–Ω–∏–∫_—Ü–µ–ª–∏" --email "–≤–∞—à–∞_–ø–æ—á—Ç–∞@gmail.com"
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

* `--usernames`: –ù–∏–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é, –µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ).
* `--email`: –í–∞—à–∞ Google-–ø–æ—á—Ç–∞ (–Ω–∞ –Ω–µ—ë —Å–∫—Ä–∏–ø—Ç –≤—ã–¥–∞—Å—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ).
* `--limit`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö Reels –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20).
* `--whisper-model`: –†–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ (`tiny`, `base`, `small`, `medium`, `large`). –ß–µ–º –±–æ–ª—å—à–µ, —Ç–µ–º —Ç–æ—á–Ω–µ–µ, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ. `base` ‚Äî –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ.

**–ü—Ä–∏–º–µ—Ä:**

```bash
python Agents/Scripts/reels_analyzer.py --usernames "creatory_ru" --limit 10 --email "user@example.com"
```

---

## üõ† –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (Pipeline)

1. **–ü–∞—Ä—Å–∏–Ω–≥**: –ê–≥–µ–Ω—Ç —Å–∫–∞—á–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É Reels (–ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –ª–∞–π–∫–∏) —á–µ—Ä–µ–∑ Apify.
2. **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ**: –í–∏–¥–µ–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É.
3. **–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è**: –ú–æ–¥–µ–ª—å Whisper –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –∞—É–¥–∏–æ –∏–∑ Reels –≤ —Ç–µ–∫—Å—Ç.
4. **–ê–Ω–∞–ª–∏–∑**: –ê–≥–µ–Ω—Ç —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ä–æ–ª–∏–∫–∏, –Ω–∞—Ö–æ–¥–∏—Ç –¢–û–ü-20% –∏ –•–£–î–®–ò–ï-20%. –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏—Ö —Ö—É–∫–∏, –¥–ª–∏–Ω—É, —Ç–µ–º—ã.
5. **–û—Ç—á–µ—Ç**:
    * –°–æ–∑–¥–∞–µ—Ç—Å—è **Google –¢–∞–±–ª–∏—Ü–∞** —Å–æ –≤—Å–µ–º–∏ —Å—ã—Ä—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
    * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è **Markdown-–æ—Ç—á–µ—Ç** –≤ –ø–∞–ø–∫—É `Executions/`.
6. **–°—Ü–µ–Ω–∞—Ä–∏–π**: –í –∫–æ–Ω—Ü–µ –æ—Ç—á–µ—Ç–∞ –∞–≥–µ–Ω—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç —Ç–µ–º—ã –¥–ª—è –≤–∞—à–∏—Ö –≤–∏–¥–µ–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –∏ –º–æ–∂–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π.

---

## üìÇ –ì–¥–µ –∏—Å–∫–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã?

* **Google Sheets**: –°—Å—ã–ª–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
* **–õ–æ–∫–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç**: –§–∞–π–ª –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –ø–æ –ø—É—Ç–∏: `Agents/Executions/[YYYY-MM-DD]_reels_analysis_[username].md`.

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

* `ModuleNotFoundError`: –í—ã –∑–∞–±—ã–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`pip install ...`).
* `FileNotFoundError: google_credentials.json`: –í—ã –Ω–µ –ø–æ–ª–æ–∂–∏–ª–∏ —Ñ–∞–π–ª –∫–ª—é—á–µ–π –≤ –Ω—É–∂–Ω—É—é –ø–∞–ø–∫—É –∏–ª–∏ –Ω–∞–∑–≤–∞–ª–∏ –µ–≥–æ –∏–Ω–∞—á–µ.
* `ffmpeg not found`: –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω FFmpeg (—Å–º. –ø—É–Ω–∫—Ç 1).
* `Apify Client Error`: –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω Apify –∏–ª–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –∫—Ä–µ–¥–∏—Ç—ã –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç–µ.
