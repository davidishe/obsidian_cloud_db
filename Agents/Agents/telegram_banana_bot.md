# üçå Telegram Banana Bot Agent

–≠—Ç–æ—Ç –∞–≥–µ–Ω—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç Telegram –±–æ—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –º–æ–¥–µ–ª–∏ Google —á–µ—Ä–µ–∑ OpenRouter.

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ Telegram.
- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —ç—Ç–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ OpenRouter (Google Gemini).
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –¥–∏–∞–ª–æ–≥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Language:** Python
- **Key Libraries:** 
  - `python-telegram-bot` (Telegram API)
  - `openai` (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å OpenRouter API)
  - `python-dotenv` (–¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ credentials)
- **Model:** `google/gemini-2.0-pro-exp-02-05:free` (–∏–ª–∏ —Ç–∞, —á—Ç–æ —É–∫–∞–∑–∞–Ω–∞ –≤ OpenRouter docs –∫–∞–∫ `google/gemini-2.0-pro-exp-02-05:free` - user specified `google/gemini-3-pro-image-preview` which seems to be a specific preview model).

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –∏–∑ `Credentials.env`.
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å `Application` (Telegram).
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç `OpenAI` —Å `base_url="https://openrouter.ai/api/v1"`.

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π:**
   - –°–ª—É—à–∞—Ç—å `PHOTO` —Å–æ–æ–±—â–µ–Ω–∏—è.
   - –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ñ–æ—Ç–æ:
     - –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª (get_file).
     - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ base64 –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å URL (OpenRouter –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç URL).
     - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤ OpenRouter.
     - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
   - –õ–æ–≤–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è (Network, API Error).
   - –°–æ–æ–±—â–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ ("–ë–∞–Ω–∞–Ω –ø–æ—Å–∫–æ–ª—å–∑–Ω—É–ª—Å—è üçå").

## üìù –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∫ OpenRouter
```python
completion = client.chat.completions.create(
  model="google/gemini-2.0-pro-exp-02-05:free", # –∏–ª–∏ user specific path
  messages=[
    {
      "role": "user",
      "content": [
        {"type": "text", "text": "–ß—Ç–æ –Ω–∞ —ç—Ç–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–µ?"},
        {"type": "image_url", "image_url": {"url": "https://..."}}
      ]
    }
  ]
)
```
